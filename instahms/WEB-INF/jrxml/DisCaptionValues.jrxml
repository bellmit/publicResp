<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="DisCaptionValues" pageWidth="555" pageHeight="802" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<parameter name="docid" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select fl.caption, dd.field_value as values,COALESCE(fh.form_title,fh.form_caption) as form_title, coalesce(doc1.doctor_name,coalesce(doc.doctor_name,'')) as discharge_doctor,coalesce(doc1.specialization,coalesce(doc.specialization,'')) as discharge_doctor_specialization ,fh.form_type
from dis_detail dd 
inner join dis_header dh on (dh.docid = dd.doc_id) 
inner join fields fl on (dd.field_id = fl.field_id and dd.field_value != '') 
inner join patient_details pd on (dh.mr_no = pd.mr_no)
left outer join patient_registration pp on (dh.patient_id = pp.patient_id) 
left outer join department dpt on (pp.dept_name = dpt.dept_id) 
left outer join doctors doc on (pp.doctor = doc.doctor_id) 
inner join form_header fh on (dh.form_id = fh.form_id) 
left outer join doctors doc1 on (pp.DISCHARGE_DOCTOR_ID = doc1.doctor_id) 
inner join salutation_master sm on (pd.salutation = sm.salutation_id)  
 where dh.docid = $P{docid} order by fl.displayorder]]>
	</queryString>
	<field name="caption" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="values" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="form_title" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band/>
	</background>
	<title>
		<band/>
	</title>
	<pageHeader>
		<band/>
	</pageHeader>
	<columnHeader>
		<band/>
	</columnHeader>
	<detail>
		<band height="40">
			<textField isBlankWhenNull="false">
				<reportElement key="textField-1" mode="Opaque" x="0" y="0" width="475" height="16"/>
				<box leftPadding="4"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{caption}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement key="textField-2" x="22" y="20" width="430" height="20" isPrintWhenDetailOverflows="true"/>
				<box bottomPadding="6"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{values}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band/>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
