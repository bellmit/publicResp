<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ConsultantDoctorRevenue" pageWidth="980" pageHeight="765" orientation="Landscape" whenNoDataType="NoDataSection" columnWidth="920" leftMargin="30" rightMargin="30" topMargin="40" bottomMargin="40">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="query" class="java.lang.String" isForPrompting="false"/>
	<parameter name="printmasterfooter" class="java.lang.String" isForPrompting="false"/>
	<parameter name="hospid" class="java.lang.String" isForPrompting="false"/>
	<parameter name="diag" class="java.lang.String" isForPrompting="false"/>
	<parameter name="fromdate" class="java.util.Date" isForPrompting="false"/>
	<parameter name="todate" class="java.util.Date" isForPrompting="false"/>
	<parameter name="doctorId" class="java.lang.String" isForPrompting="false"/>
	<queryString>
		<![CDATA[select distinct pd.mr_no,pr.patient_id,get_patient_name(pd.salutation, pd.patient_name, pd.middle_name, pd.last_name) as
patient_name, doc.doctor_name,doc.doctor_type,doc.specialization,  bc.discount,bc.amount,bc.doctor_amount,
bc.paid_amount,to_char(bc.posted_date,'dd/mm/yy') as posted_date, chc.chargehead_name,bc.bill_no, charge_id ,
round (case when pr.visit_type = 'i' then (case when doc.doctor_payments_in_percent='Y'
THEN  (case when  doctor_payment_operations!=null then  (bc.amount * (doc.doctor_payment_ip/100)*
(doc.doctor_payment_operations/100)) else (bc.amount*(doc.doctor_payment_ip/100)) end) else doctor_payment_ip end ) when pr.visit_type = 'o' THEN
(case when doctor_payments_in_percent='Y' THEN (bc.amount*doc.doctor_payment_op/100)
else doctor_payment_op  end ) end,2) as fees, case when pr.visit_type = 'i' then
doc.doctor_payment_ip when pr.visit_type = 'o'
then doc.doctor_payment_op end as consultations, case when pr.visit_type = 'i'
then (case when doc.doctor_payments_in_percent='Y' then '%' else 'Rs' end)
when pr.visit_type = 'o'  then (case when doc.doctor_payments_in_percent='Y'
 then '%' else 'Rs' end) end  as  paytype,
 case when chargehead_id in ('OPDOC','ROPDOC','POPDOC') then 'Out Patients'
 else (case when chargehead_id in ('SUOPE','COSOPE','ASUOPE','ANAOPE','AANAOPE') then 'Surgeries' else 'In Patients' end) end as type,
 (bc.doctor_amount) as tdsamount
  from generic_preferences gc,  patient_details pd
left join   patient_registration pr on pr.mr_no = pd.mr_no
join bill b on b.visit_id = pr.patient_id join bill_charge bc on bc.bill_no = b.bill_no
join doctors doc on doc.doctor_id = bc.act_description_id
join chargegroup_constants cgc  on cgc.chargegroup_id=bc.charge_group
join chargehead_constants chc on  chc.chargegroup_id = cgc.chargegroup_id and chc.chargehead_id=bc.charge_head
where ( (doctor_payment_ip>0 and pr.visit_type = 'i' or doctor_payment_operations>0)
or (doctor_payment_op>0  and pr.visit_type = 'o')) and doc.doctor_type like 'CON%' and (bc.charge_group
like 'DOC' or bc.charge_group like 'OPE') and  date_trunc('day',bc.posted_date) >= '$P!{fromdate}' and date_trunc('day',bc.posted_date) <= '$P!{todate}'
and b.status!='X' and  bc.status!='X'  $P!{doctorId}
order by doc.doctor_name,type,posted_date]]>
	</queryString>
	<field name="mr_no" class="java.lang.String"/>
	<field name="patient_id" class="java.lang.String"/>
	<field name="patient_name" class="java.lang.String"/>
	<field name="doctor_name" class="java.lang.String"/>
	<field name="doctor_type" class="java.lang.String"/>
	<field name="specialization" class="java.lang.String"/>
	<field name="discount" class="java.math.BigDecimal"/>
	<field name="amount" class="java.math.BigDecimal"/>
	<field name="doctor_amount" class="java.math.BigDecimal"/>
	<field name="paid_amount" class="java.math.BigDecimal"/>
	<field name="posted_date" class="java.lang.String"/>
	<field name="chargehead_name" class="java.lang.String"/>
	<field name="bill_no" class="java.lang.String"/>
	<field name="charge_id" class="java.lang.String"/>
	<field name="fees" class="java.math.BigDecimal"/>
	<field name="consultations" class="java.math.BigDecimal"/>
	<field name="paytype" class="java.lang.String"/>
	<field name="type" class="java.lang.String"/>
	<field name="tdsamount" class="java.math.BigDecimal"/>
	<variable name="SUM_patient_paid_amount_1" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="patientamount" class="java.math.BigDecimal" resetType="Group" resetGroup="mrno" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="patientdiscount" class="java.math.BigDecimal" resetType="Group" resetGroup="mrno" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="patientcost" class="java.math.BigDecimal" resetType="Group" resetGroup="mrno" calculation="Sum"/>
	<variable name="deptcost" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum"/>
	<variable name="deptdiscount" class="java.math.BigDecimal" resetType="Group" resetGroup="chargeType" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="deptamount" class="java.math.BigDecimal" resetType="Group" resetGroup="chargeType" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="deptpaid" class="java.math.BigDecimal" resetType="Group" resetGroup="chargeType" calculation="Sum">
		<variableExpression><![CDATA[$F{paid_amount}]]></variableExpression>
	</variable>
	<variable name="hospitalcost" class="java.math.BigDecimal" calculation="Sum"/>
	<variable name="hospdiscount" class="java.math.BigDecimal" resetType="Group" resetGroup="patient" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="hospamount" class="java.math.BigDecimal" resetType="Group" resetGroup="patient" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="hosppaid" class="java.math.BigDecimal" resetType="Group" resetGroup="patient" calculation="Sum">
		<variableExpression><![CDATA[$F{paid_amount}]]></variableExpression>
	</variable>
	<variable name="SUM_amount_1" class="java.math.BigDecimal" resetType="Group" resetGroup="mrno" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="docconsultations" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{consultations}]]></variableExpression>
	</variable>
	<variable name="hospconsultations" class="java.math.BigDecimal" resetType="Group" resetGroup="patient" calculation="Sum">
		<variableExpression><![CDATA[$F{consultations}]]></variableExpression>
	</variable>
	<variable name="docfees" class="java.math.BigDecimal" resetType="Group" resetGroup="chargeType" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}]]></variableExpression>
	</variable>
	<variable name="hospfees" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}]]></variableExpression>
	</variable>
	<variable name="type_1" class="java.lang.Integer" resetType="Group" resetGroup="chargeType" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{type}]]></variableExpression>
	</variable>
	<variable name="docBillAmount" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="doctorDisc" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="doctorPaid" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{paid_amount}]]></variableExpression>
	</variable>
	<variable name="doctorFees" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}]]></variableExpression>
	</variable>
	<variable name="totfinalamt" class="java.math.BigDecimal" resetType="Group" resetGroup="chargeType" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}.subtract( $F{tdsamount})]]></variableExpression>
	</variable>
	<variable name="totdoctorfinalamt" class="java.math.BigDecimal" resetType="Group" resetGroup="doctor_name" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}.subtract( $F{tdsamount})]]></variableExpression>
	</variable>
	<variable name="hospdoctorfinalamt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{doctor_amount}.subtract( $F{tdsamount})]]></variableExpression>
	</variable>
	<group name="nodata">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="34"/>
		</groupFooter>
	</group>
	<group name="patient" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band height="20">
				<staticText>
					<reportElement key="element-90" x="252" y="0" width="66" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Bill No]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-90" x="28" y="0" width="55" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[MR NO]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-90" x="83" y="0" width="57" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Patient Id]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-90" x="140" y="0" width="112" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Patient Name]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-91" x="606" y="0" width="65" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Paid]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-92" x="377" y="0" width="103" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Description]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-98" x="556" y="0" width="50" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Discount]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-99" x="480" y="0" width="76" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Billed Amt]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-103" x="671" y="0" width="65" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Consultation  ]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-104" x="736" y="0" width="60" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Fees]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-90" x="318" y="0" width="59" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Bill Date]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-90" x="0" y="0" width="28" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Sl No]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-104" x="846" y="0" width="74" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[Doctor Amount]]></text>
				</staticText>
				<staticText>
					<reportElement key="element-104" x="796" y="0" width="50" height="20"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<text><![CDATA[TDS Amt]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="18">
				<staticText>
					<reportElement key="element-102" x="359" y="0" width="120" height="18"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Total Revenue]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="556" y="0" width="50" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{hospdiscount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="479" y="0" width="77" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{hospamount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="606" y="0" width="65" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{hosppaid}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-31" mode="Transparent" x="736" y="0" width="60" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{hospfees}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
					<reportElement key="textField-31" x="845" y="0" width="74" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{hospdoctorfinalamt}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="doctor_name">
		<groupExpression><![CDATA[$F{doctor_name}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<staticText>
					<reportElement key="staticText" x="0" y="0" width="80" height="20"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Doctor Name :]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField" x="80" y="0" width="144" height="20"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{doctor_name}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-29" x="231" y="0" width="80" height="20"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{doctor_type}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-30" x="319" y="0" width="208" height="20"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{specialization}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="staticText-2" x="224" y="0" width="7" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" pdfFontName="Helvetica"/>
					</textElement>
					<text><![CDATA[-]]></text>
				</staticText>
				<staticText>
					<reportElement key="staticText-3" x="311" y="0" width="7" height="20"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="10" pdfFontName="Helvetica"/>
					</textElement>
					<text><![CDATA[-]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="18">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="480" y="0" width="76" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{docBillAmount}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="element-101" x="359" y="0" width="120" height="18"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Justified" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Doctor  Total Amount]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="556" y="0" width="50" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{doctorDisc}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="606" y="0" width="65" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{doctorPaid}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="736" y="0" width="60" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{doctorFees}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
					<reportElement x="845" y="0" width="74" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{totdoctorfinalamt}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="columndata" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="chargeType">
		<groupExpression><![CDATA[$F{type}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField evaluationTime="Group" evaluationGroup="chargeType" isBlankWhenNull="true">
					<reportElement key="textField" x="80" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle" markup="none">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{type}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="element-90" x="0" y="0" width="80" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Charge Type :]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="total">
		<groupExpression><![CDATA[$F{type}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="18">
				<staticText>
					<reportElement key="element-101" x="359" y="0" width="120" height="18"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Justified" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="556" y="0" width="50" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{deptdiscount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="479" y="0" width="77" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{deptamount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="606" y="0" width="65" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{deptpaid}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="736" y="0" width="60" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{docfees}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="845" y="0" width="74" height="18"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{totfinalamt}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="mrno">
		<groupExpression><![CDATA[$F{charge_id}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-20" x="84" y="0" width="57" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{patient_id}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-21" x="29" y="0" width="55" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{mr_no}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-22" x="141" y="0" width="111" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{patient_name}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-18" x="606" y="0" width="65" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{paid_amount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-19" x="556" y="0" width="50" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{discount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-24" x="479" y="0" width="77" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{amount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
					<reportElement key="textField-27" x="376" y="0" width="103" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="CP1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{chargehead_name}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="736" y="0" width="60" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{doctor_amount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="671" y="0" width="65" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{paytype}.equalsIgnoreCase("Rs" )?$F{consultations}.toString()+"Rs":$F{consultations}.toString()+"%"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="252" y="0" width="65" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{bill_no}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="317" y="0" width="59" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{posted_date}]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="mrno" isBlankWhenNull="true">
					<reportElement key="textField" x="2" y="0" width="27" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{chargeType_COUNT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="846" y="0" width="74" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{doctor_amount}.subtract( $F{tdsamount})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="796" y="0" width="50" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="Helvetica"/>	
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{tdsamount}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band/>
	</title>
	<pageHeader>
		<band height="44">
			<staticText>
				<reportElement key="staticText" x="0" y="0" width="840" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Consultant Doctor Revenue Report]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="487" y="25" width="100" height="18"/>
				<textElement verticalAlignment="Middle">
					<font size="9" pdfFontName="Helvetica"/>	
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{todate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="312" y="25" width="60" height="18"/>
				<textElement verticalAlignment="Middle">
					<font size="9" pdfFontName="Helvetica"/>	
				</textElement>
				<text><![CDATA[From Date:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="372" y="25" width="65" height="18"/>
				<textElement verticalAlignment="Middle">
					<font size="9" pdfFontName="Helvetica"/>	
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{fromdate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="437" y="25" width="50" height="18"/>
				<textElement verticalAlignment="Middle">
					<font size="9" pdfFontName="Helvetica"/>	
				</textElement>
				<text><![CDATA[To Date:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band/>
	</columnHeader>
	<detail>
		<band/>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="46">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" x="377" y="27" width="36" height="19"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
					<font size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="CP1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line" x="0" y="0" width="915" height="1" forecolor="#000000"/>
				<graphicElement>
					<pen lineWidth="1.0" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
				<reportElement key="textField" x="0" y="24" width="100" height="19"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" pdfFontName="Helvetica"/>	
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
	<noData>
		<band height="36">
			<staticText>
				<reportElement key="staticText-1" x="2" y="2" width="914" height="34">
					<printWhenExpression><![CDATA[$V{REPORT_COUNT}.intValue()==0?Boolean.TRUE:Boolean.FALSE]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="18" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[NO DATA]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
